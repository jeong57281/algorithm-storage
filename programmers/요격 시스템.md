---
title: 'Lv.2 요격 시스템'
subtitle: ''
tag: ['programmers', '정렬']
link: 'https://school.programmers.co.kr/learn/courses/30/lessons/181188'
---

다른 사람들의 풀이를 보니 정렬만으로 풀이가 가능한 것 같은데, 나는 좀 더 어렵게 풀었다.

## 풀이 방법

A 나라에서 발사한 폭격 미사일은 **모두** 파괴되어야 하므로, 폭격 미사일의 닫는 구간 `e`를 지나기 전에는 최소 하나의 요격 미사일이 발사되어야 한다.

발사해야하는 요격 미사일의 최소 개수를 알려면 여러 폭격 미사일 중, 어느 미사일의 닫는 구간 `e`에서 요격 미사일을 발사해야하는지를 알아야 한다.

이는 정렬을 통해 알아낼 수 있다. 구간 값 $(s, e)$ 를 모두 오름차순으로 정렬하고 여는 구간 `s`이 **연달아 나올 경우** 요격 미사일을 발사하지 않다가, 닫는 구간 `e`을 마주치면 요격 미사일을 하나 발사하여 앞서 날라온 폭격 미사일을 모두 파괴하는 것이다.

1. 폭격 미사일을 다음과 같은 형태로 재가공한 후 x축 인덱스가 빠르고, 닫는 괄호가 먼저 오도록 정렬한다.

```js
{
  x, // x축 값
  type, // 여는 구간 or 닫는 구간
  i, // 미사일의 인덱스
}
```

2. 요격 범위의 여는 구간이 들어오면 해당 미사일의 인덱스를 버퍼에 쌓아둔다.
3. 요격 범위의 닫는 구간이 들어오면 버퍼에 저장되어있는 모든 미사일을 폭파처리`isDestroy`하고 요격 미사일의 개수를 1증가시킨다. (단, 이미 폭파처리된 미사일의 닫는 구간일 경우 무시한다.)