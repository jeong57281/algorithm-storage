---
title: 'Lv.2 두원 사이의 정수쌍'
subtitle: ''
tag: ['programmers', '수학']
link: 'https://school.programmers.co.kr/learn/courses/30/lessons/181187'
---

## 풀이 방법 1

모든 좌표에 대해서 원점에서 부터의 거리를 구하여, r1 보다 크거나 같고 r2보다 작거나 같은 좌표들의 개수를 세어준다.

* 원점에서부터 거리를 구하는 공식 : $\sqrt {x^2 + y^2}$

r1, r2 값이 최대 $1,000,000$ 일 수 있기 때문에 복잡도가 $\rm O({2,000,000}^{2})$ 으로 **시간초과**가 발생한다.

## 풀이 방법 2

반지름 r1, r2 크기의 원 내에 존재하는 모든 정수 좌표의 개수를 각각 구한 후, 큰 원의 정수 좌표 개수에서 작은 원의 정수 좌표를 뺀 값을 반환한다.

단, 원 내에 존재하는 모든 정수 좌표의 개수를 $\rm O(1,000,000)$ 복잡도 안에 구해야 하며, 큰 원과 작은 원에 공통으로 포함되는 개수를 고려해서 계산해야한다.

### 사분면

좌표평면에서 x, y축에 의해 4개의 영역으로 나뉘어진 사분면은 모두 동일한 정수 좌표의 개수를 가지게 되므로, 하나의 사분면을 기준으로 구한 정수 좌표 개수의 4배값이 원의 내부에 있는 정수 좌표의 개수가 된다.

이때, 어느 사분면에도 속하지 않는 좌표축 위의 정수 좌표는 따로 계산하여야 올바른 값을 구할 수 있다.

코드에서 `getIntegerLocationInCircle`가 반지름이 $radius$인 원 내의 정수 좌표를 $\rm O(1,000,000)$에 구하는 함수이다.

1. x좌표축 위의 정수 $1$부터 $radius - 1$사이의 값에 대해서 반지름과 x축 좌표를 이용하여 원 위의 y좌표를 구한다. <br/>($y = \sqrt {radius^2 - x^2}$)
2. $\lfloor y \rfloor$ 값이 곧, 원 내에 존재하는 정수 좌표의 개수가 된다.

함수에서는 `dup`이라는 변수도 함께 반환하는데, 이는 공통으로 포함되는 정수 좌표의 개수를 구하기 위해 사용된다.

소수점을 버리지 않은 $y$ 좌표의 값이 정수일 때, 공통으로 포함된다고 볼 수 있다.

### 정리

반지름이 r1, r2인 원의 내부 정수 좌표 개수와, 공통으로 포함될 수 있는 좌표의 개수를 각각 구했으면 이를 이용하여 답을 계산해주면 된다.

```js
let answer = 0;

const { count: r1Count, dup: r1Dup } = getIntegerLocationInCircle(r1);
const { count: r2Count, dup: r2Dup } = getIntegerLocationInCircle(r2);

answer = r2Count - r1Count + r1Dup;

return answer;
```