{"componentChunkName":"component---src-templates-post-tsx","path":"/post/programmers/광고 삽입.js","result":{"data":{"file":{"ext":".js","name":"광고 삽입","fields":{"content":"function solution(play_time, adv_time, logs) {\n  const n = 100 * 60 * 60;\n  const imos = Array(n + 1).fill(0);\n  const playEnd = Array(n + 1).fill(0);\n\n  const hmsToSecond = (h, m, s) => h * 60 * 60 + m * 60 + s;\n\n  const secondToHMS = (second) => {\n    const h = Math.floor(second / 60 / 60);\n    const m = Math.floor((second - h * 60 * 60) / 60);\n    const s = second % 60;\n\n    return [h, m, s].map((v) => v.toString().padStart(2, '0')).join(':');\n  };\n\n  logs.forEach((log) => {\n    const [start, end] = log.split('-');\n\n    const [h1, m1, s1] = start.split(':').map(Number);\n    const [h2, m2, s2] = end.split(':').map(Number);\n\n    const startSecond = hmsToSecond(h1, m1, s1);\n    const endSecond = hmsToSecond(h2, m2, s2);\n\n    playEnd[startSecond] += 1;\n    playEnd[endSecond] -= 1;\n  });\n\n  for (let i = 0; i < n + 1; i++) {\n    imos[i] = (imos[i - 1] || 0) + playEnd[i];\n  }\n\n  const ps = [...imos];\n\n  for (let i = 1; i < n + 1; i++) {\n    // += 가 아니라 = 로 오타를 냈음\n    ps[i] += ps[i - 1];\n  }\n\n  const candidates = [];\n\n  const playTimeSecond = hmsToSecond(...play_time.split(':').map(Number));\n  const advTimeSecond = hmsToSecond(...adv_time.split(':').map(Number));\n\n  for (let i = 0; i < playTimeSecond - advTimeSecond + 1; i++) {\n    // 재생 시간 또한 종료 시각은 포함되지 않는다...\n    const s = i;\n    const e = i + advTimeSecond - 1;\n\n    candidates.push({\n      entireTime: ps[e] - (ps[s - 1] || 0),\n      startTime: s,\n    });\n  }\n\n  candidates.sort((a, b) => {\n    if (a.entireTime > b.entireTime) {\n      return -1;\n    } else if (a.entireTime < b.entireTime) {\n      return 1;\n    } else {\n      return a.startTime - b.startTime;\n    }\n  });\n\n  return secondToHMS(candidates[0].startTime);\n}\n","stampObject":{"modified":1687840041,"created":1687840041}}},"markdownRemark":{"html":"<h2>풀이 방법</h2>\n<p>사용자의 시청 구간 <code>logs</code> 가 주어지고, 공익광고 구간 내의 시청중인 사용자의 수를 빠른 시간안에 구하는 것이 핵심인 문제이다.</p>\n<p>imos 알고리즘 이용하여 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">O</mi><mo stretchy=\"false\">(</mo><mi mathvariant=\"normal\">N</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\rm O(N)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathrm\">O</span><span class=\"mopen\">(</span><span class=\"mord mathrm\">N</span><span class=\"mclose\">)</span></span></span></span></span></span> 만에 특정 시간의 시청중인 사용자의 수를 구하고, 공익광고가 시작될 수 있는 모든 구간에서의 시청자 수의 합을 구하기 위해 imos 배열으로부터 <strong>구간합</strong>을 구해놓은 뒤 이를 이용하여 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">O</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\rm O(1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathrm\">O</span><span class=\"mopen\">(</span><span class=\"mord mathrm\">1</span><span class=\"mclose\">)</span></span></span></span></span></span> 안에 구해준다면 시간안에 문제를 해결할 수 있다.</p>\n<p>단, 시청자 수의 합이 가장 크고 시작 시간이 빠른 정답을 구해야 하므로 정렬이 필요하기 때문에 전체 시간 복잡도는 정렬의 시간 복잡도 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">O</mi><mo stretchy=\"false\">(</mo><mi mathvariant=\"normal\">N</mi><mi>log</mi><mo>⁡</mo><mi mathvariant=\"normal\">N</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\rm O(N \\log N)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathrm\">O</span><span class=\"mopen\">(</span><span class=\"mord mathrm\">N</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathrm\">N</span><span class=\"mclose\">)</span></span></span></span></span></span> 에 지배된다.</p>\n<h2>틀린 이유</h2>\n<p>솔루션은 빨리 떠올렸지만 문제를 제대로 읽지 않아서 계속된 반례를 해결하지 못해 정답을 보았다.</p>\n<p>사용자들의 시청 구간과, 공익 광고의 재생 구간이 [시작, 종료] 모두 닫힌구간이라 생각하고 풀었기 때문이었다.</p>\n<p>시간 개념이기 때문에 <code>00:00:01-00:00:03</code> 이라고 하면 1초에서 3초까지 총 2초만큼 재생이 된 것이지 3초부터 4초까지 재생되고 끝난다는 의미가 아니다. 즉 반열린구간 [시작, 종료) 이라 생각하고 풀어야 한다.</p>\n<p>이렇게 혼자 생각해보면 문제의 지문을 제대로 읽지 않았더라도 올바르게 구현했을텐데, 오히려 문제에서 예제 설명을 위해 주어진 사진을 내 마음대로 해석한 것이 오히려 독이 된 것 같다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/algorithm-storage/static/f481a00f7bbb76b38e8e17a4d537dd26/00d43/2021_kakao_cf_03.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.72972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABFUlEQVR42l3L60rDMBgA0L7/K+mmuIHrZa7O1LRNb2u+pLe4llzHEBRURITz93hag3Md55iQvZStEGWe78eRGMO0Bq3BGDbPdZaFfZ8pBWV5qOtn57i13FOqFSM5Ncc8CxHaZTjA2Bei+JuXpcGpn5EIoV1OohN9EaI8nytPKQjjTZKGLX0NojUM+fV9Mga+58/X7ON9FkMZ+CtGcUdT3181zdFzll3Qdsl8AYmdchndSUDWcaupNWANOMPeVOkP96cFzaappngDN4srr5feY4Ktb6P0EBcY5wilO79o6oJBAfQXgfahenqsjmGdBE2ybfaruISBenykpOdn3SvbSdvJyygVkxL+cbq3qjNfnB4KSvlEPwEuVT+UyNP/hgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2021_kakao_cf_03\"\n        title=\"\"\n        src=\"/algorithm-storage/static/f481a00f7bbb76b38e8e17a4d537dd26/fcda8/2021_kakao_cf_03.png\"\n        srcset=\"/algorithm-storage/static/f481a00f7bbb76b38e8e17a4d537dd26/12f09/2021_kakao_cf_03.png 148w,\n/algorithm-storage/static/f481a00f7bbb76b38e8e17a4d537dd26/e4a3f/2021_kakao_cf_03.png 295w,\n/algorithm-storage/static/f481a00f7bbb76b38e8e17a4d537dd26/fcda8/2021_kakao_cf_03.png 590w,\n/algorithm-storage/static/f481a00f7bbb76b38e8e17a4d537dd26/efc66/2021_kakao_cf_03.png 885w,\n/algorithm-storage/static/f481a00f7bbb76b38e8e17a4d537dd26/00d43/2021_kakao_cf_03.png 1000w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>문제의 예제 2번의 사진인데 사진을 보면 속이 찬 동그라미로 표시되고 있다. 올바르게 표현된 사진이지만 속이 꽉 찬 동그라미니깐 모두 닫힌구간이구나 하고 내 마음대로 해석을 했던 것이다.</p>","frontmatter":{"title":"Lv.3 광고 삽입"}}},"pageContext":{"slug":"programmers/광고 삽입.js","slugNoExt":"programmers/광고 삽입","repoName":"algorithm-storage","userName":"junghyunbak","profileUrl":"https://avatars.githubusercontent.com/u/44913775?v=4","utterances":"junghyunbak/junghyunbak.github.io","googleSiteVerification":"LwKjAts-rLkskyg9wgFh0L-OC3Y2Eo2T4SBrqPjxu8c"}},"staticQueryHashes":[],"slicesMap":{}}